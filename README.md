# README #

### Uni_Script - Универсальный скрипт для интерпретатора OneScript http://oscript.io/

> OneScript позволяет создавать и выполнять текстовые сценарии, написанные на языке, знакомом любому специалисту по системе 1С:Предприятие. Применение знакомого языка для скриптовой автоматизации позволяет значительно повысить продуктивность специалиста за счет более простой автоматизации ручных операций.

Uni_Script - наш скрипт, который выполняет рутинные действия за вас. Среди которых:
* Резервное копирование ИБ
* Восстановление базы из архивной копии ИБ
* Установка и снятие блокировки сеансов пользователей
* Прерывание активных/зависших сеансов работы пользователей в ИБ (опционально по времени последней активности пользователей)
* Удаление устаревших резервных копий
* Ведения лог-файла выполненных действий.

Скрипт демонстрирует возможности такого мощного инструмента как OneScript (виртуальной машины, исполняющей скрипты на языке 1С:Предприятие) и может служить примером для создания собственных скриптов. Ниже приведены команды и параметры команд, обрабатываемые скриптом, а также даны примеры использования команд.
Скрипт тестировался и используется нами начиная с версии платформы 1С Предприятие 8.3.7.1970 для тиражных и собственных конфигураций. Во вложении архив с самим скриптом и bat – файлами из примеров. bat-файлы предназначены для просмотра возможностей запуска скриптов с параметрами, в боевых условиях это лишнее, можно запускать OneScript напрямую, без bat-файлов, передавая нужные параметры.
В общем случае, все команды нашего скрипта обрабатываются следующим образом:
```
oscript uni_script.os /КОМАНДА /Параметр1 ЗначениеПараметра1 /Параметр2 ЗначениеПараметра2 ...
```

При этом oscript - это либо путь к файлу oscript.exe либо переменная среды для этого файла. uni_script.os - путь к нашему универсальному скрипту. Команда - то, что будет выполнено. Параметры команды отвечают за передаваемые значения в скрипт.
Возможно последовательное выполнение скрипта с разными командами и параметрами.

## Почему я это должен использовать?
Чтобы облегчить себе жизнь =)
Данный универсальный скрипт позволяет делать не простые и рутинные действия одновременно. Например, запуск резервного копирования информационных баз - это последовательность действий:

1. Завершение работы пользователей ИБ и активных сеансов
1. Установка блокировки информационной базы с текстом - уведомлением, чтобы те, кто пытался войти, смогли это сделать только после выполнения резервной копии
1. Выгрузка в нужную директорию резервной копии по заданному шаблону
1. Очистка устаревших резервных копий ИБ в директории резервного копирования (оставляем последние N-копий, например)
1. Разблокирование информационной базы
1. Записываем все в лог

Как видите, такой бэкап базы 1С - это последовательность мелких действий, которые в сумме, если их собрать, не такие уж и мелкие, если делать вручную... А наш скрипт решает это одной строкой. Интересно? Тогда перечислим возможности (в будущем будет расширено).

## Сайт проекта

Основная информация о проекте, релизы и документация и описание расположены на официальном сайте

http://softonit.ru/free/uniscript/

## Основной разработчик

Думенко Игорь idm@softonit.ru